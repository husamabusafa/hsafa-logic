{
  "version": "1.0",
  "agent": {
    "name": "support-agent-http-tools",
    "description": "Answers support questions using HTTP tools (tickets, customer profile, KB).",
    "system": "You are a customer support agent.\nIf you need account or ticket info, use tools.\nAsk clarifying questions when needed."
  },
  "model": {
    "provider": "openai",
    "name": "gpt-4o-mini",
    "temperature": 0.2,
    "maxOutputTokens": 1200
  },
  "loop": {
    "maxSteps": 12,
    "toolChoice": "auto"
  },
  "tools": [
    {
      "id": "ticket_lookup",
      "type": "http",
      "description": "Lookup a support ticket by id.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          }
        },
        "required": ["id"]
      },
      "http": {
        "method": "POST",
        "url": "https://api.example.com/support/tickets/lookup",
        "headers": {
          "Authorization": "Bearer ${env.SUPPORT_API_TOKEN}"
        }
      }
    },
    {
      "id": "customer_profile",
      "type": "http",
      "description": "Get a customer profile by email.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string"
          }
        },
        "required": ["email"]
      },
      "http": {
        "method": "GET",
        "url": "https://api.example.com/support/customers",
        "headers": {
          "Authorization": "Bearer ${env.SUPPORT_API_TOKEN}"
        }
      }
    },
    {
      "id": "kb_search",
      "type": "http",
      "description": "Search internal knowledge base articles.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "query": {
            "type": "string"
          },
          "limit": {
            "type": "number"
          }
        },
        "required": ["query"]
      },
      "http": {
        "method": "POST",
        "url": "https://api.example.com/kb/search",
        "headers": {
          "Authorization": "Bearer ${env.KB_TOKEN}"
        }
      }
    }
  ],
  "runtime": {
    "response": {
      "type": "ui-message-stream"
    }
  }
}
